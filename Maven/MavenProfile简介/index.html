



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>MavenProfile简介 - Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#_1" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Notes" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Notes
            </span>
            <span class="md-header-nav__topic">
              
                MavenProfile简介
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ginkoc/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Notes" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Notes
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ginkoc/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Algorithm
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Algorithm
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Algorithm/背包问题/" title="我对背包问题理解" class="md-nav__link">
      我对背包问题理解
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      AOP
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        AOP
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../AOP/Aspectj切面织入/" title="Aspectj切面织入" class="md-nav__link">
      Aspectj切面织入
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Docker/Docker镜像层/" title="Docker镜像层" class="md-nav__link">
      Docker镜像层
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Java
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Java
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      集合
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        集合
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/集合/ArrayList源码分析/" title="ArrayList源码分析" class="md-nav__link">
      ArrayList源码分析
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      基础知识
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        基础知识
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Java/基础知识/try-catch-finally块中的return语句/" title="关于try-catch-finally块中的return语句" class="md-nav__link">
      关于try-catch-finally块中的return语句
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Maven
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Maven
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Maven概述/" title="Maven概述" class="md-nav__link">
      Maven概述
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Maven构建生命周期/" title="Maven构建生命周期" class="md-nav__link">
      Maven构建生命周期
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../MavenPOM简介/" title="MavenPOM简介" class="md-nav__link">
      MavenPOM简介
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        MavenProfile简介
      </label>
    
    <a href="./" title="MavenProfile简介" class="md-nav__link md-nav__link--active">
      MavenProfile简介
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    概述
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiles" class="md-nav__link">
    构建配置文件（Profiles）简介
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    为什么要有构建配置文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile" class="md-nav__link">
    Profile的类型以及可以定义的位置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile_1" class="md-nav__link">
    Profile的触发方式
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profile_2" class="md-nav__link">
    Profile的触发细节
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile_3" class="md-nav__link">
    在Profile中能够指定的内容
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Others
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Others
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Others/数字证书原理/" title="数字证书原理" class="md-nav__link">
      数字证书原理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Others/Netty NIO笔记/" title="Netty NIO笔记" class="md-nav__link">
      Netty NIO笔记
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Spring
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Spring
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1" type="checkbox" id="nav-8-1">
    
    <label class="md-nav__link" for="nav-8-1">
      SpringSecurity
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-1">
        SpringSecurity
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spring/SpringSecurity/SpringSecurtiy源码分析/" title="SpringSecurity笔记" class="md-nav__link">
      SpringSecurity笔记
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Spring_DBs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        Spring_DBs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spring/Spring_DBs/SpringDataJpa笔记/" title="SpringDataJpa笔记" class="md-nav__link">
      SpringDataJpa笔记
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spring/Spring_DBs/Spring整合Redis/" title="Spring-boot集成Redis" class="md-nav__link">
      Spring-boot集成Redis
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      Spring基础知识
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-3">
        Spring基础知识
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Spring/Spring基础知识/DispatcherServlet源码分析/" title="DispatcherServlet源码分析" class="md-nav__link">
      DispatcherServlet源码分析
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Web/Servlet概述/" title="Servlet笔记" class="md-nav__link">
      Servlet笔记
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Work-related
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Work-related
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1" type="checkbox" id="nav-10-1">
    
    <label class="md-nav__link" for="nav-10-1">
      Ovirt
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-1">
        Ovirt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Work-related/Ovirt/[OvirtEngine]Dao层测试/" title="[OvirtEngine]Dao层测试" class="md-nav__link">
      [OvirtEngine]Dao层测试
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Work-related/Ovirt/[OvirtEngine]RestApi整理/" title="[OvirtEngine]RestApi整理" class="md-nav__link">
      [OvirtEngine]RestApi整理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Work-related/Ovirt/[OvirtEngine]锁机制/" title="[OvirtEngine]锁机制" class="md-nav__link">
      [OvirtEngine]锁机制
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    概述
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiles" class="md-nav__link">
    构建配置文件（Profiles）简介
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    为什么要有构建配置文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile" class="md-nav__link">
    Profile的类型以及可以定义的位置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile_1" class="md-nav__link">
    Profile的触发方式
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profile_2" class="md-nav__link">
    Profile的触发细节
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profile_3" class="md-nav__link">
    在Profile中能够指定的内容
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ginkoc/docs/edit/master/docs/Maven/MavenProfile简介.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>MavenProfile简介</h1>
                
                <h2 id="_1">概述</h2>
<p>本文主要是对<code>Maven</code>的构建配置文件进行简单的介绍。</p>
<p>本文的主要是笔者对<code>Maven</code>官方手册的翻译和理解：<a href="http://maven.apache.org/guides/introduction/introduction-to-profiles.html">http://maven.apache.org/guides/introduction/introduction-to-profiles.html</a></p>
<p>参考了W3Cschool的<code>Maven</code>教程：<a href="https://www.w3cschool.cn/maven/tchv1ht8.html">https://www.w3cschool.cn/maven/tchv1ht8.html</a></p>
<h2 id="profiles">构建配置文件（Profiles）简介</h2>
<h3 id="_2">为什么要有构建配置文件</h3>
<p><code>Maven</code>的宗旨是尽可能确保构建的可移植性，但在某些情况下可移植并不是完全可能的。例如，可能需要使用本地文件系统环境变量来配置插件，或者根据构建环境的不同来选择使用不同的插件等。为了解决这些问题，<code>Maven</code>引入了构建配置文件的概念，通过在<code>&lt;profiles&gt;</code>元素中额外或者再次配置<code>POM</code>中某些元素，并通过各种条件来触发<code>&lt;profile&gt;</code>的配置。<em><code>&lt;profile&gt;</code>会根据触发条件在构建时修改<code>POM</code>，这意味着<code>&lt;profiles&gt;</code>作为补充集合在构建时会根据不同的目标环境提供等价但不同的参数</em>。这样，项目仍然能够保持可移植性，根据不同的构建需求生成不同的构建结果。</p>
<h3 id="profile">Profile的类型以及可以定义的位置</h3>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">定义的位置</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">项目（<code>Per Project</code>）</td>
<td align="center">在<code>pom.xml</code>中定义</td>
</tr>
<tr>
<td align="center">用户（<code>Per User</code>）</td>
<td align="center">在<code>Maven</code>设置中定义（<code>%USER_HOME%/.m2/settings.xml</code>）</td>
</tr>
<tr>
<td align="center">全局（<code>Global</code>）</td>
<td align="center">在<code>Maven</code>全局设置中定义（<code>${maven.home}/conf/settings.xml</code>）</td>
</tr>
</tbody>
</table>
<h3 id="profile_1">Profile的触发方式</h3>
<p><code>Profile</code> 可以通过以下几种方式触发/激活：</p>
<ul>
<li>直接通过命令行触发</li>
<li>通过<code>Maven</code>配置来设置</li>
<li>取决于环境参数</li>
<li>操作系统设置</li>
<li>存在/缺少文件</li>
</ul>
<h4 id="profile_2">Profile的触发细节</h4>
<p><strong>1.命令行</strong></p>
<p><code>Profiles</code>可以通过直接指定命令行选项<code>-P</code>来激活。这个命令行选项接受一个被逗号（<code>,</code>）分割的<code>profile id</code>列表（注：每个profile都可以设置<code>id</code>这个标签），在<code>-P</code>的参数中指定的<code>profile</code>将会在构建时被激活，此外任何符合其<code>&lt;activation&gt;</code>条件（<code>profile</code>一般在它的子元素<code>&lt;activation&gt;</code>中定义触发条件）或者在<code>settings.xml</code>文件中的<code>&lt;activeProfiles&gt;</code>部分定义的<code>profile</code>也会被激活。</p>
<pre><code class="shell">mvn groupId:artifactId:goal -P profile-1,profile-2
</code></pre>

<p><strong>2.<code>Maven</code>配置</strong></p>
<p><code>Profiles</code>可以通过<code>Maven</code>配置来设置激活，即通过上文提到的<code>&lt;activeProfiles&gt;</code>部分进行配置，该部分包含一个或多个以<code>profile id</code>作为参数的<code>&lt;activeProfile&gt;</code>元素。如果在项目中使用了<code>&lt;activeProfiles&gt;</code>，那么在其中指定的<code>profile</code>列表在每次都会被激活。</p>
<pre><code class="xml">&lt;settings&gt;
  ...
  &lt;activeProfiles&gt;
    &lt;activeProfile&gt;profile-1&lt;/activeProfile&gt;
  &lt;/activeProfiles&gt;
  ...
&lt;/settings&gt;
</code></pre>

<p><strong>3.其他</strong></p>
<p>可以基于自动检测构建环境状态来触发<code>Profiles</code>，这些触发器通过<code>Profile</code>自身的子元素<code>&lt;activation&gt;</code>来指定。目前触发器只能检测<code>JDK</code>的大版本、系统属性存在与否以及系统属性的值（这里的系统属性指的是命令行参数中的属性或者是<code>settings.xml</code>文件的属性，详见下面的几个例子）。</p>
<p>下面的例子中，以<code>JDK</code>大版本为<code>1.4</code>(例如，<code>1.4.0_08</code>,<code>1.4.2_07</code>)的情况下会触发该<code>Profile</code></p>
<pre><code class="xml">&lt;profiles&gt;
  &lt;profile&gt;
    &lt;activation&gt;
      &lt;jdk&gt;1.4&lt;/jdk&gt;
    &lt;/activation&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p>你也可以以范围的形式来设置<code>JDK</code>版本，下面的配置将会在<code>1.3, 1.4, 1.5</code>版本起作用</p>
<pre><code class="xml">&lt;profiles&gt;
  &lt;profile&gt;
    &lt;activation&gt;
      &lt;jdk&gt;[1.3,1.6)&lt;/jdk&gt;
    &lt;/activation&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p><code>Profile</code>也可以通过操作系统参数触发，如下</p>
<pre><code class="xml">&lt;profiles&gt;
  &lt;profile&gt;
    &lt;activation&gt;
      &lt;os&gt;
        &lt;name&gt;Windows XP&lt;/name&gt;
        &lt;family&gt;Windows&lt;/family&gt;
        &lt;arch&gt;x86&lt;/arch&gt;
        &lt;version&gt;5.1.2600&lt;/version&gt;
      &lt;/os&gt;
    &lt;/activation&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p>在下面的例子中，<code>Profile</code>会在属性<code>debug</code>未定义或者定义为非<code>true</code>值时被激活</p>
<pre><code class="xml">&lt;profiles&gt;
  &lt;profile&gt;
    &lt;activation&gt;
      &lt;property&gt;
        &lt;name&gt;debug&lt;/name&gt;
        &lt;value&gt;!true&lt;/value&gt;
      &lt;/property&gt;
    &lt;/activation&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p>激活上面的例子可以通过执行下面的命令中的一个</p>
<pre><code class="shell">mvn groupId:artifactId:goal
mvn groupId:artifactId:goal -Ddebug=false
</code></pre>

<p>下面的例子会在属性<code>environment</code>的值被指定为<code>test</code>时触发</p>
<pre><code class="xml">&lt;profiles&gt;
  &lt;profile&gt;
    &lt;activation&gt;
      &lt;property&gt;
        &lt;name&gt;environment&lt;/name&gt;
        &lt;value&gt;test&lt;/value&gt;
      &lt;/property&gt;
    &lt;/activation&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p>要触发上面的例子，你可以执行下面的命令</p>
<pre><code class="shell">mvn groupId:artifactId:goal -Denvironment=test
</code></pre>

<p>下面的例子会在文件<code>target/generated-sources/axistools/wsdl2java/org/apache/maven</code>缺失的情况下触发<code>Profile</code></p>
<pre><code class="xml">&lt;profiles&gt;
  &lt;profile&gt;
    &lt;activation&gt;
      &lt;file&gt;
        &lt;missing&gt;target/generated-sources/axistools/wsdl2java/org/apache/maven&lt;/missing&gt;
      &lt;/file&gt;
    &lt;/activation&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p><code>&lt;exists&gt;</code>和<code>&lt;missing&gt;</code>标签支持以插值的形式赋值，但仅支持系统属性(如<code>${user.home}</code>)和环境变量（如<code>${env.HOME}</code>），并不支持用户在<code>pom.xml</code>自定义的属性（<code>&lt;properties&gt;</code>中定义的属性）。</p>
<p><code>Profile</code>也可以设置为默认激活，如下：</p>
<pre><code class="xml">&lt;profiles&gt;
  &lt;profile&gt;
    &lt;id&gt;profile-1&lt;/id&gt;
    &lt;activation&gt;
      &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
    &lt;/activation&gt;
    ...
  &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p>你也可以在命令行执行在<code>Profile id</code>前添加<code>！</code>或者<code>-</code>字符来取消激活<code>Profile</code>，如下：</p>
<pre><code class="shell">mvn groupId:artifactId:goal -P !profile-1,!profile-2
</code></pre>

<h3 id="profile_3">在Profile中能够指定的内容</h3>
<p>你能够在<code>Profile</code>中指定的内容取决于你选择在什么位置配置你的<code>Profile</code>，当配置位置不同时你能够指定的内容也不一样。</p>
<p><strong>在外部文件中配置<code>Profile</code></strong></p>
<p>在外部文件中配置<code>Profile</code>（即<code>settings.xml</code>或<code>profiles.xml</code>）在严格意义上是不可移植的，所以能够大概率改变构建结构的内容只能在<code>POM</code>中进行配置。因此，你只能在外部文件中修改<code>&lt;repositories&gt;、&lt;pluginRepositories&gt;</code>以及<code>&lt;properties&gt;</code>部分。</p>
<p><strong>在<code>POM</code>中配置<code>Profile</code></strong></p>
<p>如果你可以在<code>POM</code>中合理地配置<code>Profile</code>，那你将会有更多的配置选项。这样你可以保留更多的可移植性，即可以添加更多的信息而不会有其他用户获得不到信息的风险。在<code>POM</code>中<code>Profile</code>可以修改以下元素：</p>
<ul>
<li><code>&lt;repositories&gt;</code></li>
<li><code>&lt;pluginRepositories&gt;</code></li>
<li><code>&lt;dependencies&gt;</code></li>
<li><code>&lt;plugins&gt;</code></li>
<li><code>&lt;properties&gt;</code></li>
<li><code>&lt;modules&gt;</code></li>
<li><code>&lt;reporting&gt;</code></li>
<li><code>&lt;dependencyManagement&gt;</code></li>
<li><code>&lt;distributionManagement&gt;</code></li>
<li><code>&lt;build&gt;</code>元素的子集，由以下元素组成：<ul>
<li><code>&lt;defaultGoal&gt;</code></li>
<li><code>&lt;resources&gt;</code></li>
<li><code>&lt;testResources&gt;</code></li>
<li><code>&lt;finalName&gt;</code></li>
</ul>
</li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../MavenPOM简介/" title="MavenPOM简介" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                MavenPOM简介
              </span>
            </div>
          </a>
        
        
          <a href="../../Others/数字证书原理/" title="数字证书原理" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                数字证书原理
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>